# ===========================================
# SAP GRC Platform - Environment Configuration
# ===========================================

# -----------------
# Database
# -----------------
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/sapframework

# -----------------
# API Server
# -----------------
PORT=3000
NODE_ENV=development

# -----------------
# Authentication & Security
# -----------------
# CRITICAL: Set to 'true' in production!
AUTH_ENABLED=true

# JWT Secret (generate with: openssl rand -base64 32)
JWT_SECRET=CHANGE-THIS-IN-PRODUCTION-use-openssl-rand-base64-32

# XSUAA Configuration (SAP BTP)
XSUAA_URL=
XSUAA_CLIENT_ID=
XSUAA_CLIENT_SECRET=

# Master Encryption Key (AES-256-GCM) - MUST be set in production
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
ENCRYPTION_MASTER_KEY=

# -----------------
# CORS Configuration
# -----------------
# Development: Allow frontend origin
CORS_ORIGIN=http://localhost:3001

# Production: Use your actual domain
# CORS_ORIGIN=https://your-production-domain.com

# -----------------
# Logging
# -----------------
LOG_LEVEL=debug

# -----------------
# SAP Connection (Optional - for testing)
# -----------------
SAP_BASE_URL=https://your-sap-system.com
SAP_CLIENT=100
SAP_AUTH_TYPE=OAUTH
SAP_CLIENT_ID=
SAP_CLIENT_SECRET=

# -----------------
# Frontend (Next.js)
# -----------------
NEXT_PUBLIC_API_URL=http://localhost:3000/api

# -----------------
# Redis (for rate limiting & caching)
# -----------------
# Optional: If not set, falls back to in-memory store
# Production: MUST use Redis for distributed rate limiting
REDIS_URL=

# -----------------
# Security Features
# -----------------
# Enable SoD (Segregation of Duties) enforcement
SOD_ENFORCEMENT_ENABLED=true
SOD_ENFORCEMENT_FAIL_OPEN=false

# Audit logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=365

# Data residency
DATA_RESIDENCY_ENABLED=true
DATA_RESIDENCY_DEFAULT_REGION=EU
DATA_RESIDENCY_FAIL_OPEN=false

# Encryption
ENCRYPTION_AT_REST_REQUIRED=true

# -----------------
# GDPR & Compliance
# -----------------
GDPR_PII_MASKING_ENABLED=true
GDPR_DATA_RETENTION_DAYS=2555
